# Use the latest 2.1 version of CircleCI pipeline process engine. See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1
# Use a package of configuration called an orb.
jobs:
  build:
    docker:
      - image: circleci/node:10.16-browsers # the primary container, where your job's commands are run
    working_directory: ~/mapbox-gl-js
    steps:
      - checkout # check out the code in the project directory
      - run: yarn # run the `echo` command
      - run: yarn lint
      - run: yarn test-expressions
      - store_artifacts:
          path: test/integration/expression-tests/index.html
          destination: test-coverage
      - run: yarn test-unit
